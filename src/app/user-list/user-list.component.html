<div class="user-table">
    <div *ngIf="users.length > 0 else elseTemplate">
        <div class="search">
            <input type="text" name="search" [(ngModel)]="searchText" placeholder="Search by name or email" />
        </div>
        
    <div  class="mat-elevation-z8">
        <table mat-table [dataSource]="sortedData" matSort (matSortChange)="sortData($event)">

            <ng-container matColumnDef="name">
                <th mat-sort-header="name" mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>


            <ng-container matColumnDef="email">
                <th mat-sort-header="email" mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container>


            <ng-container matColumnDef="role">
                <th mat-header-cell *matHeaderCellDef> Role </th>
                <td mat-cell *matCellDef="let element"> {{element.role}} </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element"> <button (click)="confirmBox(element)" mat-icon-button
                        color="accent" aria-label="Example icon button with a menu icon">
                        <mat-icon>delete_forever</mat-icon>
                    </button>
                    <button (click)="addUser('Edit', element)" mat-icon-button color="primary"
                        aria-label="Example icon button with a menu icon">
                        <mat-icon>edit</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns| filter: searchText"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[10]" showFirstLastButtons
            aria-label="Select page of periodic elements"></mat-paginator>
    </div>
    </div>
    

    <ng-template #elseTemplate>
        <div class="no-user">
            <h1>No User Added, Add User First!</h1>
        </div>
    </ng-template>

</div>

<button (click)="addUser('Add')" class="add-user-button" mat-fab color="primary"><mat-icon>add</mat-icon></button>